////////////////////////////////////////////////////////////////////////////////////////////////////

package cmd

////////////////////////////////////////////////////////////////////////////////////////////////////

import (
	"fmt"
	"os"

	"github.com/DanielRivasMD/horus"
)

////////////////////////////////////////////////////////////////////////////////////////////////////

// checkErr reports errors using the horus library and exits gracefully.
func checkErr(err error) {
	if err != nil {
		herr := horus.NewCategorizedHerror(
			"check error",
			"runtime_error",
			"An error occurred during execution",
			err,
			map[string]any{"severity": "critical", "location": "checkErr function"},
		)

		// Log the error in JSON format for debugging
		fmt.Println(horus.FormatError(herr, horus.JSONFormatter))
		os.Exit(1) // Exit gracefully
	}
}

////////////////////////////////////////////////////////////////////////////////////////////////////
